{% extends "main.html" %}

<!-- prettier-ignore -->
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'styles/vendoreval.css' %}" />
<section class="vendor__evaluation">
  <div class="vendor__evaluation--metric--box">
    <div class="vendor__evaluation--metric--box--vendor--info">
      <h1 id="vname">{{vendor.name}}</h1>
      <span>Vendor Name</span>
    </div>
    <div class="vendor__evaluation--metric--box--vendor--info">
      <h1 id="vname">{{vendor.vendor_code}}</h1>
      <span>Vendor code</span>
    </div>
    <div class="vendor__evaluation--metric--box--vendor--info">
      <h1 id="vname">{{fulfillement_rate|floatformat:2 }}%</h1>
      <span>Fulfillement rate</span>
    </div>
  </div>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Vendor's On time delivery rate</td>
        <td>
          {{otdr}}% (Early:{{otd.count}} Late:{{late_delivery}}
          Total:{{allpo.count}})
        </td>
      </tr>
      <tr>
        <td>Vendor's quality rating average</td>
        <td>{{quality_avg_rating|floatformat:2}}%</td>
      </tr>
      <tr>
        <td>Vendor's average response time</td>
        <td>
          <!-- prettier-ignore -->
          {% if average_response_time %}
            {% if average_response_time == 1 %} 
            {{average_response_time}} day 
            {% elif average_response_time > 1 %} 
            {{average_response_time}} days {%endif %}
          {% else %}
           NA
           {% endif %}
        </td>
      </tr>
      <tr>
        <td>Vendor's fulfillment rate</td>
        <td>{{fulfillement_rate|floatformat:2 }}%</td>
      </tr>
      <tr>
        <td>Vendor's completed orders</td>
        <td>{{cpo.count}}</td>
      </tr>
      <tr>
        <td>Vendor's pending orders</td>
        <td>{{ppo.count}}</td>
      </tr>
      <tr>
        <td>Vendor's cancelled orders</td>
        <td>{{ppo.count}}</td>
      </tr>
      <tr>
        <td>Vendor's total orders</td>
        <td>{{allpo.count}}</td>
      </tr>
    </tbody>
  </table>
  <br />
</section>

{% endblock content %}
